(this.webpackJsonpsnappic=this.webpackJsonpsnappic||[]).push([[0],{10:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(5),o=n.n(i),a=n(3),s=n.n(a),l=n(4),d=n(7),u=n(2),j=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))};function m(e){return e*Math.PI/180}function h(e,t){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(s.a.mark((function e(t,n){var r,c,i,o,a,l,d,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:0,e.next=3,j(t);case 3:return c=e.sent,i=document.createElement("canvas"),o=i.getContext("2d"),a=Math.max(c.width,c.height),l=a/2*Math.sqrt(2)*2,i.width=l,i.height=l,o.translate(l/2,l/2),o.rotate(m(r)),o.translate(-l/2,-l/2),o.drawImage(c,l/2-.5*c.width,l/2-.5*c.height),d=o.getImageData(0,0,l,l),i.width=n.width,i.height=n.height,o.putImageData(d,Math.round(0-l/2+.5*c.width-n.x),Math.round(0-l/2+.5*c.height-n.y)),e.abrupt("return",new Promise((function(e){i.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(25),x=n(0),p=c.a.createContext(),f=function(e){var t=e.children,n="/img/borderSingleImage/white.svg",i="/img/borderSingleImage/black.svg",o=[{id:"Ever",img:"/img/borderSelection/everIcon@3x.png",white_space:"true",borderUrl:n},{id:"Clean",img:"/img/borderSelection/cleanIcon@3x.png",white_space:"false",borderUrl:n},{id:"Classic",img:"/img/borderSelection/classicIcon@3x.png",white_space:"true",borderUrl:i},{id:"Bold",img:"/img/borderSelection/boldIcon@3x.png",white_space:"false",borderUrl:i}],a=[{id:"black",borderId:["Classic","Bold"],img:"/img/borderSingleImage/black.svg"},{id:"white",borderId:["Ever","Clean"],img:"/img/borderSingleImage/white.svg"}],j=Object(r.useState)(o[0]),m=Object(u.a)(j,2),b=m[0],f=m[1],O=Object(r.useState)("white"),w=Object(u.a)(O,2),v=w[0],C=w[1],I=Object(r.useState)(!1),S=Object(u.a)(I,2),N=S[0],y=S[1],k=Object(r.useState)(!1),M=Object(u.a)(k,2),B=M[0],P=M[1],L=Object(r.useState)([]),z=Object(u.a)(L,2),A=z[0],E=z[1],F=Object(r.useState)(""),U=Object(u.a)(F,2),H=U[0],R=U[1],_=Object(r.useState)(null),D=Object(u.a)(_,2),V=D[0],W=D[1],Z=Object(r.useState)(1),J=Object(u.a)(Z,2),q=J[0],G=J[1],K=Object(r.useState)({x:0,y:0}),Q=Object(u.a)(K,2),T=Q[0],X=Q[1],Y=Object(r.useState)(0),$=Object(u.a)(Y,2),ee=$[0],te=$[1],ne=Object(r.useState)(null),re=Object(u.a)(ne,2),ce=re[0],ie=re[1],oe=Object(r.useCallback)((function(e,t){console.log("cropped moved"),W(t)}),[]),ae=Object(r.useCallback)(function(){var e=Object(d.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,console.log(n),console.log("Heres the imageSrc",he),e.prev=3,e.next=6,h(he.find((function(e){return e.id===H})).img,V,ee);case 6:r=e.sent,c=Object(l.a)(A),ie(r),c[A.indexOf(A.find((function(e){return e.id===n})))]={id:"".concat(n),img:r},E(Object(l.a)(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),[V,ee]),se=Object(r.useState)("front"),le=Object(u.a)(se,2),de=le[0],ue=le[1],je=c.a.useState([]),me=Object(u.a)(je,2),he=me[0],be=me[1],ge=function(){var e=Object(d.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=12;break}return n=t.target.files[0],e.next=4,xe(n);case 4:r=e.sent,console.log("uploading files"),c=Object(g.a)(),R(c),console.log(de),E("front"===de?[{id:"".concat(c),img:r}].concat(Object(l.a)(A)):[].concat(Object(l.a)(A),[{id:"".concat(c),img:r}])),be("front"===de?[{id:"".concat(c),img:r}].concat(Object(l.a)(he)):[].concat(Object(l.a)(he),[{id:"".concat(c),img:r}])),y(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xe(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)}),!1),n.readAsDataURL(e)}))}return Object(x.jsx)(p.Provider,{value:{zoom:q,setZoom:G,crop:T,setCrop:X,rotation:ee,setRotation:te,croppedAreaPixels:V,setCroppedAreaPixels:W,croppedImage:ce,setCroppedImage:ie,onCropComplete:oe,showCroppedImage:ae,onFileChange:ge,imageSrc:he,showModal:N,setShowModal:y,setImageSrc:be,selectedImageId:H,setSelectedImageId:R,imageSrcCropped:A,setImageSrcCropped:E,showImageOptionModal:B,setShowImageOptionModal:P,imageOptionHandling:function(e){console.log(e),R(e),P(!0)},border:o,chooseBorder:b,setChooseBorder:f,borderSingleImage:a,chooseBorderHandling:function(e){var t=o.find((function(t){return t.id===e}));f(t),a[0].borderId.includes(e)?C("black"):C("white")},singleImageBorder:v,setAddImagePosition:ue,addImagePosition:de},children:t})},O=function(){return Object(r.useContext)(p)};n(10);function w(e){var t=e.id,n=O(),r=(n.imageSrc,n.imageSrcCropped),c=(n.setShowModal,n.setSelectedImageId,n.setImageSrcCropped,n.setImageSrc,n.imageOptionHandling),i=n.selectedImageId,o=n.chooseBorder;return Object(x.jsxs)("div",{className:i===t?"relative z-40 w-48 h-48 flex justify-center items-center":"relative z-10 w-48 h-48 flex justify-center items-center",children:[Object(x.jsx)("img",{id:"true"===o.white_space?"whiteimg":"nowhiteimg",className:"true"===o.white_space?"absolute w-32 h-32":"absolute w-48 h-48",src:r.find((function(e){return e.id===t})).img,alt:"crop"}),Object(x.jsx)("img",{onClick:function(){return c(t)},className:"absolute",src:o.borderUrl,alt:o.id})]})}function v(e){var t=O(),n=t.onFileChange,r=t.setAddImagePosition,c=t.addImagePosition;return Object(x.jsx)("div",{className:"h-48 w-48 min-w-min",onClick:function(){r(e.position),console.log("you click upload: ",c)},children:Object(x.jsxs)("div",{className:"w-48 h-48",children:[Object(x.jsx)("label",{htmlFor:"upload-image-front",children:Object(x.jsx)("div",{className:"h-48 w-48  border-dashed border-4 border-gray-500 rounded-xl ",children:Object(x.jsx)("div",{className:"h-full flex  justify-center items-center text-4xl text-gray-500",children:"+"})})}),Object(x.jsx)("input",{className:"hidden",type:"file",onChange:function(e){console.log("log position in uploadMoreButtonxhx: ",c),n(e)},accept:"image/*",id:"upload-image-front"})]})})}function C(e){var t=O(),n=t.onFileChange,r=t.setAddImagePosition,c=t.addImagePosition;return Object(x.jsx)("div",{className:"h-48 w-48 min-w-min",onClick:function(){r(e.position),console.log("you click upload: ",c)},children:Object(x.jsxs)("div",{className:"w-48 h-48",children:[Object(x.jsx)("label",{htmlFor:"upload-image-back",children:Object(x.jsx)("div",{className:"h-48 w-48  border-dashed border-4 border-gray-500 rounded-xl ",children:Object(x.jsx)("div",{className:"h-full flex  justify-center items-center text-4xl text-gray-500",children:"+"})})}),Object(x.jsx)("input",{className:"hidden",type:"file",onChange:function(e){console.log("log position in uploadMoreButtonxhx: ",c),n(e)},accept:"image/*",id:"upload-image-back"})]})})}function I(){var e=O(),t=e.onFileChange;e.singleImageBorder,e.chooseBorder;return Object(x.jsxs)("div",{className:"flex flex-col w-full items-center justify-center",children:[Object(x.jsx)("div",{className:"text-xl ",children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e39\u0e1b\u0e41\u0e23\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),Object(x.jsx)("label",{htmlFor:"upload-image",children:Object(x.jsx)("div",{className:" h-48 w-48 animate-pulse border-dashed border-4 border-pink-500 rounded-xl flex justify-center items-center text-6xl text-pink-500",children:Object(x.jsx)("div",{children:"+"})})}),Object(x.jsx)("input",{className:"hidden",type:"file",onChange:t,accept:"image/*",id:"upload-image"})]})}function S(){var e=O(),t=e.imageSrc,n=e.imageSrcCropped;return Object(x.jsx)("div",{className:"flex-grow  flex justify-center items-center",children:Object(x.jsx)("div",{className:"inline-flex w-full space-x-5    overflow-x-scroll h-full items-center xs:no-scrollbar",children:t.length>0?Object(x.jsxs)("div",{className:"flex justify-center space-x-2",children:[Object(x.jsx)(v,{position:"front"}),Object(x.jsx)("div",{className:"flex flex-shrink-0  items-center space-x-5",children:n.map((function(e){return Object(x.jsx)(w,{id:e.id},e.id)}))}),Object(x.jsx)(C,{position:"back"})]}):Object(x.jsx)(I,{})})})}function N(){return Object(x.jsx)("div",{className:"border-t-2 border-black-100 p-2  flex justify-center items-center",children:Object(x.jsx)("a",{href:"#",className:"bg-pink-500 rounded-xl py-2 px-24 text-white font-bold",children:"\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19"})})}function y(e){e.id;var t=O(),n=t.showImageOptionModal,r=t.setShowImageOptionModal,c=t.setShowModal,i=t.imageSrc,a=t.selectedImageId,s=t.setImageSrc,l=t.setImageSrcCropped,d=t.imageSrcCropped,u=n&&Object(x.jsxs)("div",{className:"z-40 absolute flex flex-col justify-end items-center  bg-gray-500 bg-opacity-50 h-full w-full",onClick:function(){return r(!1)},children:[Object(x.jsxs)("div",{className:"flex items-center space-x-2 bg-white py-2 w-64 rounded-t-lg text-md pl-4",onClick:function(){c(!0)},children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"})}),Object(x.jsx)("span",{children:"\u0e1b\u0e23\u0e31\u0e1a\u0e21\u0e38\u0e21\u0e23\u0e39\u0e1b"})]}),Object(x.jsxs)("div",{className:" flex items-center space-x-2 bg-white py-2 w-64 border-t-2 border-gray-200 pl-4",onClick:function(){var e=d.filter((function(e){return e.id!==a})),t=i.filter((function(e){return e.id!==a}));l(e),s(t),r(!1)},children:[Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(x.jsx)("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})}),Object(x.jsx)("span",{children:"\u0e25\u0e1a\u0e23\u0e39\u0e1b\u0e19\u0e35\u0e49\u0e44\u0e1b"})]})]});return o.a.createPortal(u,document.getElementById("img-modal"))}var k=n(12);function M(){var e=O(),t=e.zoom,n=e.setZoom,r=e.crop,c=e.setCrop,i=e.rotation,o=e.setRotation,a=(e.croppedAreaPixels,e.setCroppedAreaPixels,e.croppedImage,e.setCroppedImage,e.onCropComplete),s=(e.showCroppedImage,e.imageSrc),l=e.selectedImageId,d=e.imageSrcCropped;return console.log("in Cropper.js imageSrc: ",s),console.log("in Cropper.js imageSrcCropped: ",d),console.log(l),Object(x.jsx)("div",{className:"",children:Object(x.jsx)("div",{children:Object(x.jsx)(k.a,{image:s.find((function(e){return e.id===l})).img,crop:r,rotation:i,zoom:t,aspect:1,onCropChange:c,onRotationChange:o,onCropComplete:a,onZoomChange:n})})})}var B=function(e){var t=e.setShowModal,n=e.showModal,r=O(),c=r.showCroppedImage,i=r.selectedImageId,a=n&&Object(x.jsx)("div",{className:"z-50 absolute bg-gray-500 bg-opacity-50 h-full w-full flex justify-center items-center",children:Object(x.jsxs)("div",{className:"w-9/12 md:w-6/12 flex-col justify-center items-center ",children:[Object(x.jsx)("header",{className:"bg-pink-500  text-white text-xl text-center",children:"\u0e04\u0e23\u0e2d\u0e1b\u0e23\u0e39\u0e1b\u0e15\u0e32\u0e21\u0e02\u0e19\u0e32\u0e14\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23"}),Object(x.jsxs)("div",{className:"bg-white text-center w-full h-96",children:[Object(x.jsx)("div",{id:"cropper",className:"bg-gray-600 w-full relative",children:Object(x.jsx)(M,{})}),Object(x.jsx)("div",{className:"flex justify-center space-x-10 py-2",children:Object(x.jsx)("button",{className:"p-2 text-white bg-blue-500 rounded-xl",onClick:function(){t(!1),c({id:i})},children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e21\u0e38\u0e21\u0e19\u0e35\u0e49"})})]})]})});return o.a.createPortal(a,document.getElementById("modal"))};function P(e){var t=e.index,n=e.selected,r=void 0===n?"false":n,c=O(),i=c.border,o=c.chooseBorderHandling;return Object(x.jsx)("div",{className:"",onClick:function(){return o(i[t].id)},children:Object(x.jsxs)("div",{className:"true"===r?"w-16 bg-gray-200 p-2 rounded flex flex-col justify-center items-center":"w-16  p-2 rounded flex flex-col justify-center items-center",children:[Object(x.jsx)("img",{className:"w-12 rounded",src:i[t].img,alt:"1"}),Object(x.jsx)("div",{className:"true"===r?"font-bold text-pink-500":"font-bold",children:i[t].id})]})},t)}function L(){return Object(x.jsxs)("div",{className:"flex justify-between",children:[Object(x.jsx)("div",{className:"flex items-center",children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),Object(x.jsx)("div",{className:"text-gray-800 text-bold font-semibold ",children:"SNAPPIC"}),Object(x.jsx)("div",{className:"flex items-center",children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}function z(){var e=O(),t=e.border,n=e.chooseBorder;return Object(x.jsxs)("div",{className:" flex flex-col shadow-md py-2 px-2",children:[Object(x.jsx)(L,{}),Object(x.jsx)("div",{className:"flex justify-between",children:t.map((function(e,r){return t[r].id===n.id?Object(x.jsx)(P,{index:r,selected:"true"},r):Object(x.jsx)(P,{index:r,selected:"false"},r)}))})]})}function A(){var e=O(),t=e.showModal,n=e.setShowModal;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(x.jsx)(z,{}),Object(x.jsx)(S,{}),Object(x.jsx)(N,{})]}),Object(x.jsx)(B,{setShowModal:n,showModal:t}),Object(x.jsx)(y,{})]})}var E=document.getElementById("root");o.a.render(Object(x.jsx)(r.StrictMode,{children:Object(x.jsx)(f,{children:Object(x.jsx)(A,{})})}),E)}},[[23,1,2]]]);
//# sourceMappingURL=main.8ecc095d.chunk.js.map